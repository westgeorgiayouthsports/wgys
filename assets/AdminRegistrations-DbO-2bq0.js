import{j as e,r as j}from"./index-lWfxYzVq.js";import{u as v,r as i}from"./vendor-router-Ck4ZuSP9.js";import{a as b}from"./vendor-redux-BbD-gcRX.js";import{S as k,B as C,ax as S,x as R,V as B,W as d,X as o,H as n,$ as l,a2 as E,a3 as I,a0 as N}from"./vendor-antd-CieyQibU.js";import"./vendor-react-Ck9bq5u-.js";import"./vendor-firebase-BzUsRx-X.js";const{Title:T,Text:F}=R;function D(){const c=v(),a=b(t=>t.theme.isDarkMode),[r,g]=i.useState([]),[x,f]=i.useState(!0);i.useEffect(()=>{(async()=>{try{f(!0);const s=await j.getAllRegistrations();g(s)}catch(s){console.error("Failed to load registrations:",s)}finally{f(!1)}})()},[]);const p=[{title:"Player Name",dataIndex:"playerName",key:"playerName"},{title:"Parent",dataIndex:"parentName",key:"parentName"},{title:"Email",dataIndex:"parentEmail",key:"parentEmail",render:t=>e.jsx("a",{href:`mailto:${t}`,children:t})},{title:"Status",dataIndex:"status",key:"status",render:t=>{const s=t==="paid"?"green":t==="approved"?"blue":"orange";return e.jsx(N,{color:s,children:t.toUpperCase()})}},{title:"Fee",dataIndex:"fee",key:"fee",render:t=>`$${t.toFixed(2)}`,align:"right"},{title:"Payment Method",dataIndex:"paymentMethod",key:"paymentMethod"}],m=r.filter(t=>t.status==="paid").length,u=r.filter(t=>t.status==="approved").length,h=r.filter(t=>t.status==="pending").length,y=r.reduce((t,s)=>t+s.fee,0);return e.jsxs("div",{style:{padding:"32px",backgroundColor:a?"#141414":"#fafafa",color:a?"#ffffff":"rgba(0, 0, 0, 0.85)",minHeight:"100vh"},children:[e.jsx(k,{style:{marginBottom:"32px"},children:e.jsx(C,{type:"text",icon:e.jsx(S,{}),onClick:()=>c("/admin/dashboard"),children:"Back to Dashboard"})}),e.jsx(T,{level:2,style:{margin:0,marginBottom:"8px"},children:"Program Registrations"}),e.jsx(F,{type:"secondary",style:{marginBottom:"32px",display:"block"},children:"Manage all player registrations across programs"}),e.jsxs(B,{spinning:x,children:[e.jsxs(d,{gutter:[24,24],style:{marginBottom:"32px"},children:[e.jsx(o,{xs:24,sm:12,lg:6,children:e.jsx(n,{hoverable:!0,style:{backgroundColor:a?"#1f1f1f":"#ffffff"},children:e.jsx(l,{title:"Total Registrations",value:r.length,styles:{content:{color:"#1890ff"}}})})}),e.jsx(o,{xs:24,sm:12,lg:6,children:e.jsx(n,{hoverable:!0,style:{backgroundColor:a?"#1f1f1f":"#ffffff"},children:e.jsx(l,{title:"Paid",value:m,styles:{content:{color:"#52c41a"}}})})}),e.jsx(o,{xs:24,sm:12,lg:6,children:e.jsx(n,{hoverable:!0,style:{backgroundColor:a?"#1f1f1f":"#ffffff"},children:e.jsx(l,{title:"Approved (Unpaid)",value:u,styles:{content:{color:"#1890ff"}}})})}),e.jsx(o,{xs:24,sm:12,lg:6,children:e.jsx(n,{hoverable:!0,style:{backgroundColor:a?"#1f1f1f":"#ffffff"},children:e.jsx(l,{title:"Pending",value:h,styles:{content:{color:"#faad14"}}})})})]}),e.jsx(d,{gutter:[24,24],style:{marginBottom:"32px"},children:e.jsx(o,{xs:24,children:e.jsx(n,{hoverable:!0,style:{backgroundColor:a?"#1f1f1f":"#ffffff"},children:e.jsx(l,{title:"Total Fees Collected",value:y,prefix:"$",precision:2,styles:{content:{color:"#52c41a",fontSize:"28px"}}})})})}),e.jsx(d,{gutter:[24,24],children:e.jsx(o,{xs:24,children:e.jsx(n,{title:"All Registrations",hoverable:!0,style:{backgroundColor:a?"#1f1f1f":"#ffffff"},children:r.length>0?e.jsx(E,{columns:p,dataSource:r.map((t,s)=>({...t,key:t.id||s})),pagination:{pageSize:25},size:"middle"}):e.jsx(I,{description:"No registrations found"})})})})]})]})}export{D as default};
