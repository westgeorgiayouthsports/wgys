import{o as a,n,z as c,x as l,t as m,q as f}from"./vendor-firebase-BzUsRx-X.js";import{e as i,q as y,A as h}from"./index-lWfxYzVq.js";import"./vendor-react-Ck9bq5u-.js";import"./vendor-router-Ck4ZuSP9.js";import"./vendor-antd-CieyQibU.js";import"./vendor-redux-BbD-gcRX.js";const F={async getFamilies(){try{const t=a(i,"families"),r=await n(t);if(!r.exists())return[];const e=r.val();return Object.entries(e).map(([o,s])=>({id:o,...s}))}catch(t){throw console.error("Error fetching families:",t),t}},async getFamily(t){try{const r=a(i,`families/${t}`),e=await n(r);return e.exists()?{id:t,...e.val()}:null}catch(r){throw console.error("Error fetching family:",r),r}},async createFamily(t){try{const r=a(i,"families"),e=m(r);return await f(e,t),e.key}catch(r){throw console.error("Error creating family:",r),r}},async updateFamily(t,r){try{const e=a(i,`families/${t}`);await l(e,{...r,updatedAt:new Date().toISOString()})}catch(e){throw console.error("Error updating family:",e),e}},async deleteFamily(t){try{const r=a(i,`families/${t}`),e=await n(r),o=e.exists()?e.val():null;await c(r);try{await y.logDelete(h.Family,t,o)}catch(s){console.error("Error auditing family.delete:",s)}}catch(r){throw console.error("Error deleting family:",r),r}}};export{F as familiesService};
